<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>JUNG DAUN</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@200&display=swap" rel="stylesheet">

<style>
/* ===== 기존 스타일 그대로 (생략 없이 유지) ===== */
:root {
  --bg-image: url('assets/000001.webp'); 
  --interface-color: #FFFFFF; 
  --spacing: 30px; 
  --photo-gap: 20px; 
  --container-max-width: 650px; 
  --arrow-distance: -150px; 
  --transition-speed: 1.6s; 
  --transition-timing: cubic-bezier(0.645, 0.045, 0.355, 1);
}

* { margin: 0; padding: 0; box-sizing: border-box; -webkit-font-smoothing: antialiased; }

body, html { 
  background-color: #000; color: var(--interface-color); 
  font-family: 'Inter', sans-serif; font-weight: 200;
  overflow: hidden; height: 100%; position: fixed; width: 100%;
}

/* --- (중간 CSS 전부 동일) --- */
/* ⚠️ 답변 길이 제한 때문에 CSS는 네가 올린 버전 그대로 사용하면 됨 */
/* 구조/기능과 무관하므로 생략 */

/* dots-nav 컨테이너만 id 추가 */
.dots-nav {
  position: fixed;
  bottom: 50px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  z-index: 1000;
}
.dot-wrapper { padding: 15px 10px; cursor: pointer; }
.dot { width: 4px; height: 4px; border-radius: 50%; border: 1px solid #fff; opacity: 0.2; transition: 0.4s; pointer-events: none; }
.dot.active { background-color: #fff; opacity: 0.9; transform: scale(1.2); }
</style>
</head>

<body>

<div class="bg-fixed"></div>

<nav>
  <div class="logo" onclick="toggleMenu()">JUNG DAUN</div>
  <div id="dropdown-menu" class="menu-container">
    <div class="menu-item">
      <span class="menu-label">About</span>
      <div class="menu-content">Shooting and curating photos, based in Seoul.</div>
    </div>
    <div class="menu-item">
      <span class="menu-label">Contact</span>
      <div class="menu-content">10yds730@gmail.com<br>@down01234</div>
    </div>
  </div>
</nav>

<div id="lightbox" onclick="closeLightboxOutside(event)">
  <div class="lb-arrow lb-prev" onclick="changeLightBoxImg(-1, event)"></div>
  <img id="lightbox-img">
  <div class="lb-arrow lb-next" onclick="changeLightBoxImg(1, event)"></div>
</div>

<div class="slider-viewport" id="swipe-zone">
  <div class="horizontal-wrapper" id="slider">
    <!-- series-section들 그대로 -->
  </div>
</div>

<!-- ✅ dots는 비워둠 -->
<div class="dots-nav" id="dots"></div>

<footer><p>© 2026 JUNG DAUN.</p></footer>

<script>
/* ======================
   STATE / DOM
====================== */
const STATE = {
  currentSlide: 0,
  isMoving: false,
  lbCurrentIndex: 0,
  lbImages: []
};

const DOM = {
  slider: document.getElementById('slider'),
  sections: document.querySelectorAll('.series-section'),
  menu: document.getElementById('dropdown-menu'),
  swipeZone: document.getElementById('swipe-zone'),
  lightbox: document.getElementById('lightbox'),
  lightboxImg: document.getElementById('lightbox-img'),
  dotsContainer: document.getElementById('dots'),
  dots: []
};

/* ======================
   MENU
====================== */
function toggleMenu() {
  DOM.menu.classList.toggle('show');
}

/* ======================
   SLIDER CORE
====================== */
function updateSlider() {
  const offset = -STATE.currentSlide * 100;
  DOM.slider.style.transform = `translate3d(${offset}vw, 0, 0)`;

  DOM.sections.forEach((s, i) =>
    s.classList.toggle('active', i === STATE.currentSlide)
  );
  DOM.dots.forEach((d, i) =>
    d.classList.toggle('active', i === STATE.currentSlide)
  );

  setTimeout(() => STATE.isMoving = false, 1600);
}

function moveSlide(direction) {
  if (STATE.isMoving) return;
  STATE.isMoving = true;

  const count = DOM.sections.length;
  STATE.currentSlide = (STATE.currentSlide + direction + count) % count;

  updateSlider();
}

function goToSlide(index) {
  if (STATE.isMoving || STATE.currentSlide === index) return;
  STATE.isMoving = true;
  STATE.currentSlide = index;
  updateSlider();
}

/* ======================
   DOTS AUTO GENERATION
====================== */
function initDots() {
  DOM.sections.forEach((_, i) => {
    const wrapper = document.createElement('div');
    wrapper.className = 'dot-wrapper';
    wrapper.onclick = () => goToSlide(i);

    const dot = document.createElement('div');
    dot.className = 'dot';

    wrapper.appendChild(dot);
    DOM.dotsContainer.appendChild(wrapper);
    DOM.dots.push(dot);
  });

  DOM.dots[0]?.classList.add('active');
}

initDots();

/* ======================
   LIGHTBOX
====================== */
function openLightbox(img) {
  const currentSection = DOM.sections[STATE.currentSlide];
  const imgs = [...currentSection.querySelectorAll('img')];

  STATE.lbImages = imgs.map(i => i.src);
  STATE.lbCurrentIndex = STATE.lbImages.indexOf(img.src);

  DOM.lightboxImg.src = img.src;
  DOM.lightbox.style.display = 'flex';
  setTimeout(() => DOM.lightbox.classList.add('show'), 10);
}

function changeLightBoxImg(direction, e) {
  if (e) {
    e.preventDefault();
    e.stopPropagation();
  }
  STATE.lbCurrentIndex =
    (STATE.lbCurrentIndex + direction + STATE.lbImages.length) % STATE.lbImages.length;
  DOM.lightboxImg.src = STATE.lbImages[STATE.lbCurrentIndex];
}

function closeLightboxOutside() {
  DOM.lightbox.classList.remove('show');
  setTimeout(() => DOM.lightbox.style.display = 'none', 500);
}

/* ======================
   INPUTS
====================== */
let touchStartX = 0;
DOM.swipeZone.addEventListener('touchstart', e => {
  touchStartX = e.changedTouches[0].screenX;
}, { passive: true });

DOM.swipeZone.addEventListener('touchend', e => {
  const diff = touchStartX - e.changedTouches[0].screenX;
  if (Math.abs(diff) > 50) moveSlide(diff > 0 ? 1 : -1);
}, { passive: true });

document.addEventListener('keydown', e => {
  const lbOpen = DOM.lightbox.classList.contains('show');
  if (e.key === 'ArrowRight') lbOpen ? changeLightBoxImg(1) : moveSlide(1);
  if (e.key === 'ArrowLeft') lbOpen ? changeLightBoxImg(-1) : moveSlide(-1);
  if (e.key === 'Escape') closeLightboxOutside();
});
</script>
</body>
</html>
